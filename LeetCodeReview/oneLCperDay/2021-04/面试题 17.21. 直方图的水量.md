## 面试题 17.21. 直方图的水量 【困难】     
[栈，数组，双指针]    
https://leetcode-cn.com/problems/volume-of-histogram-lcci/     

### 方法一：动态规划      
对于下标 i，水能到达的最大高度等于下标 i 两边的最大高度的最小值，下标 i 处能接的水的量等于下标 i 处的水能到达的最大高度减去 height[i]。      
朴素的做法是对于数组 height 中的每个元素，分别向左和向右扫描并记录左边和右边的最大高度，然后计算每个下标位置能接的水的量。        
正向遍历数组得到leftmax的每个元素值，反向遍历数组得到rightmax的每个元素值，选择两个高度的最小值，代表能接的雨水重量。      
```
public int trap(int[] height) {
        int n = height.length;
        int res = 0;

        if(n == 0) {
            return res;
        }

        // 从左到右遍历 左边的最大值
        int[] leftMax = new int[n];
        leftMax[0] = height[0];
        for(int i = 1; i < n; i++) {
            leftMax[i] = Math.max(leftMax[i-1], height[i]); //对比下前一个高度和当前高度
        }

        //从右到左遍历 右边的最大值
        int[] rightMax = new int[n];
        rightMax[n-1] = height[n-1];
        for(int j = n-2; j >= 0; j--) {
            rightMax[j] = Math.max(rightMax[j+1], height[j]);
        }

        for(int i = 0; i < n; i++) {
            res += Math.min(leftMax[i], rightMax[i]) - height[i];
        }

        return res;
}
```





